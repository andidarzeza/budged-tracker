<div [@routeAnimations]="prepareRoute()" class="application-container">

    <side-bar [ngClass]="sharedService.mobileView ? 'display-none' : ''" *ngIf="authenticationService.currentUserValue && sideBarService.displaySidebar"
        [navigation]="navigation" [sideBarMode]="sideBarMode"></side-bar>

    <div 
        class="application {{sharedService.theme}}-body" id="application-body"
        style="position: relative;overflow: hidden;"
        [ngStyle]="{'margin-left': (sideBarMode!='over' || !authenticationService.currentUserValue) ? '0' : '76px' }"
        [ngClass]="authenticationService.currentUserValue ? 'app-width' : 'app-full-width'"
        >
        <div class="shadow" id="shadow" *ngIf="sideBarMode=='over'" (click)="toggleSidebar()"></div>
        <nav-bar *ngIf="navBarService.displayNavBar"></nav-bar>
        <!-- navbar: {{navBarService.displayNavBar}}
        <br>
        sidebar: {{sideBarService.displaySidebar}} -->
        <mat-progress-bar class="progress-bar {{sharedService.theme}}" mode="indeterminate" [@inOutAnimation]
            *ngIf="sharedService.stillLoading && sharedService.isSpinnerEnabled"
            style="position: absolute;top: 64px;left:0;z-index: 2;"></mat-progress-bar>
        <ng-content></ng-content>
    </div>
</div>